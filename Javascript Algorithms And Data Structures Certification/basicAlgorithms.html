<!DOCTYPE html>
<html>
<head>
	<title>Basic Algorithms</title>
</head>
<body>
	<script type="text/javascript">
		let myStr = "hello hi",
		newStr = [],
		myArr = [];

		for(let i=0; i<myStr.length; i++){
			myArr[i] = myStr[i];
		}

		console.log("myArr", myArr, myArr.length);

		for(let j=0; j<myStr.length; j++){
			newStr.push(myArr.pop());
		}

		var myNewStr = newStr.join('');

		console.log("myNewStr", myNewStr);

		//Simple Solution
		//myStr.split('').reverse().join('');
		//
		
		//Factorial
		//
		function factorialize(num) {
		  let fnum = 1;
		  for(let i=0; i<num; i++){
		    fnum = fnum * (num - (num - (num - i)));
		  }
		  return fnum;
		}

		console.log(factorialize(5));

		//Less lines solution
		//
		function factorialize(num) {
		  if (num === 0) { return 1; }
		  return num * factorialize(num-1);
		}

		factorialize(5);

		//Find the longest word
		//
		function findLongestWordLength(str) {
		  let myArr = str.split(' '),
		  longWord = 0; 
		  for(let i=0; i<myArr.length; i++){
		    let myWord = myArr[i].length;
		    if(myWord > longWord){
		      longWord = myWord;
		    }
		  }
		  return myWord;
		}

		console.log(findLongestWordLength("The quick brown fox jumped over the lazy dog"));

		//Shorter Solution
		//
		function findLongestWordLength(str) {
		  var words = str.split(' ');
		  var maxLength = 0;

		  for (var i = 0; i < words.length; i++) {
		    if (words[i].length > maxLength) {
		      maxLength = words[i].length;
		    }
		  }
		  return maxLength;
		}

		//Find the largest element of each of the sub-array and return an array with all the values

		function largestOfFourOpt(arr) {
			let myVal = 0,
			newArr = [];
			for(let i=0; i<4; i++){
				for(var j=0; j<4; j++){
					let myPop = arr[i].pop();
					if(myPop > myVal){
						myVal = myPop;
					}	
				}
				console.log("myVal", myVal);
				newArr.push(myVal);
				myVal = 0;
			}
		  	return newArr;
		}

		console.log(largestOfFourOpt([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]));
		
		//The above code will not work if there are negative numbers in the array

		//Better solution
		//
		function largestOfFour(arr) {
			let newArr = [];
			for(let i=0; i<4; i++){
				let largestNumber = arr[i][0];
				for(var j=1; j<4; j++){
					if(arr[i][j] > largestNumber){
						largestNumber = arr[i][j];
					}	
				}
				newArr.push(largestNumber);
			}
		  	return newArr;
		}

		console.log(largestOfFour([[17, 23, 25, 12], [25, 7, 34, 48], [4, -10, 18, 21], [-72, -3, -17, -10]]));

		//Check if ending of the string matches
		//
		function confirmEndingOpt(str, target) {
		  // "Never give up and good luck will find you."
		  // -- Falcor
		  let arr = str.split('');

		  if(arr[arr.length-1] == target){
		    
		    return true;
		  }
		  else return false;
		}

		console.log(confirmEndingOpt("Bastian", "n"));
		//This method will  not work if the string is multiple words
		
		//Better solution
		//
		function confirmEnding(str, target) { 
		  return str.slice(str.length - target.length) === target;
		}

		confirmEnding("He has to give me a new name", "name");

		//Repeat strings
		//
		function repeatStringNumTimes(str, num) {
		  let myStr = str.slice(0, str.length);
		  
		  while(num>1){
		  	myStr = myStr + str;
		  	num--;
		  }

		  if(num < 0){
		  	return '';
		  }

		  return myStr;
		}

		console.log(repeatStringNumTimes("abc", 3));

		//Less lines of code - better solution
		//
		function repeatStringNumTimeBetter(str, num) {
		  var accumulatedStr = '';

		  while (num > 0) {
		    accumulatedStr += str;
		    num--;
		  }

		  return accumulatedStr;
		}

		console.log(repeatStringNumTimeBetter("abc", 3));

		//Truncate a string and add .. at the end
		//
		function truncateString(str, num) {
		  
		  let newStr = str.substring(0,num);

			if(num < str.length){
		 		return newStr += '...';
			}else{
				return newStr;
			}
		}

		console.log(truncateString("A-tisket a-tasket A green and yellow basket", 8));

		//console.log(truncateString("A-tisket a-tasket A green and yellow basket", "A-tisket a-tasket A green and yellow basket".length));

		
		//Function with array and function as arguement
		//
		function findElement(arr, func) {
		  //let num = 0;
		  for(let i=0; i<arr.length; i++){
		  	console.log(func(arr[3]));
		    if (func(arr[i])){
		      return arr[i];
		    }
		  }
		  return undefined;
		  //return num;
		}
		
		console.log(findElement([1, 2, 3, 4], num => num % 2 === 0));

		//Convert a sentence to Camel Case
		//
		function titleCase(str) {
			let myStr = str.split(' '),
			myArr = [];

			for(let i=0; i<myStr.length; i++){
				myArr[i] = myStr[i][0].toUpperCase() + myStr[i].slice(1, myStr[i].length).toLowerCase();
			}

			return myArr.join(' ');
		}

		console.log(titleCase("sHoRt AnD sToUt"));

		//Use the array methods slice and splice to copy each element of the first array into the second array, in order.
		//
		function frankenSplice(arr1, arr2, n) {
		    // It's alive. It's alive!
			let arr3 = arr2.slice(),
			finalArr = [];

			finalArr = arr3.splice(0, n).concat(arr1).concat(arr2.slice(n));

			return finalArr;
		}

		console.log(frankenSplice([1, 2, 3], [4, 5, 6], 1));
		//frankenSplice(["claw", "tentacle"], ["head", "shoulders", "knees", "toes"], 2)
		
		//Another way of doing it
		//
		function frankenSpliceOpt(arr1, arr2, n) {
		  // It's alive. It's alive!
		  let localArray = arr2.slice();
		  for (let i = 0; i < arr1.length; i++) {
		    localArray.splice(n, 0, arr1[i]);
		    n++;
		  }
		  return localArray;
		}

		//Remove falsy values - false, null, 0, "", undefined, and NaN.
		//

		function bouncer(arr) {
			console.log(arr.filter(Boolean)); //Boolean is a function
		  	return arr.filter(Boolean);
		}

		//bouncer([7, "ate", "", false, 9]);
		//bouncer([false, null, 0, NaN, undefined, ""]);
		//bouncer([1, null, NaN, 2, undefined]);
		bouncer([1, null, NaN, 2, undefined, true, false]);


		//Return the lowest index at which a value (second argument) should be inserted into an array (first argument) once it has been sorted.
		//
		function getIndexToIns(arr, num) {
		  // Find my place in this sorted array.
		  var myArr = arr.sort((a, b) => a - b);
		  console.log(myArr);
		  var myIndex = 0;
		  let resultArr = myArr.slice();
		  for(var i=0; i<resultArr.length; i++){
		  	if(num > resultArr[i] && num <= (resultArr[i+1] ? resultArr[i+1] : num)){
		  		myArr.splice(i+1,0,num);
		  		if(num == resultArr[i+1] || num > resultArr[i]){
		  			myIndex = i+1;
		  		}else{
		  			myIndex = i;
		  		}
		  	}
		  }
		  console.log("MyArr", myArr);
		  return myIndex;
		}

		console.log(getIndexToIns([2, 5, 10], 15));
		//getIndexToIns([10, 20, 30, 40, 50], 30)
		//getIndexToIns([5, 3, 20, 3], 5)
		//getIndexToIns([55, 40, 60], 50);
		
		//Simpler Solution --> Concat first and then sort
		//
		function getIndexToIns(arr, num) {

			return arr.concat(num).sort((a,b) => a-b).indexOf(num);

		}

		//Return true if the string in the first element of the array contains all of the letters of the string in the second element of the array.
		//
		function mutation(mainStrArr) {
			var str1 = mainStrArr[0],
			arr1 = str1.split(''),
			str2 = mainStrArr[1],
			arr2 = str2.split(''),
			present = true;

			if(arr1.length > arr2.length){
				for(let i=0; i<arr2.length; i++){
					for(let j=0; j<arr1.length; j++){
						if(arr1[j].toLowerCase() == arr2[i].toLowerCase()){
							break;
						}

						if(j==arr1.length-1){
							present = false;
						}
					}
				}
			}else{
				for(let i=0; i<arr1.length; i++){
					for(let j=0; j<arr2.length; j++){
						if(arr1[i].toLowerCase() == arr2[j].toLowerCase()){
							break;
						}

						if(j==arr2.length-1){
							present = false;
						}
						console.log("j", j);
					}
					console.log("i", i);
					if(i==arr1.length-1){
						if(present == false){
							present = false;
						}
					}
				}	
			}

			return present;
		}

		console.log(mutation(["hello", "neo"]));

		//Simpler solution using indexOf
		//
		//
		//
		

		//Write a function that splits an array (first argument) into groups the length of size (second argument) and returns them as a two-dimensional array.
		//
		function chunkArrayInGroups(arr, size) {
			var newArr = [];

			while(arr.length){
				newArr.push(arr.splice(0,size)); //splice returns an array 
			}
			
			return newArr;
		}

		chunkArrayInGroups(["a", "b", "c", "d"], 2);

		//Pig latin string coversion
		//
		function translatePigLatin(str) {
			var myRegex = /[aeiou]/gi,
			myWord = '';

			if(str[0].match(myRegex)){
				myWord = str + 'way';
			}else if(str.match(myRegex) == null){
				myWord = str + 'ay';
			}else{
				var vowelIndex = str.indexOf(str.match(myRegex)[0]);
				myWord = str.substr(vowelIndex) + str.substr(0, vowelIndex) + 'ay';
			}

			console.log(myWord);
			return myWord;
		}

		translatePigLatin("consonant");

	</script>
</body>
</html>